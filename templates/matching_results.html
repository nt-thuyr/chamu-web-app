{% extends 'base.html' %}
{% block title %}Matching Survey{% endblock %}

{% block content %}
<h2>Set Your Criteria Priority</h2>
<form method="post">
    {% csrf_token %}
    <table class="table align-middle">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Criteria</th>
            </tr>
        </thead>
        <tbody>
            {% for rank in ranks %}
            <tr>
                <td>Rank {{ rank }}</td>
                <td>
                    <label for="rank_{{ rank }}" class="form-label">
                        Select criteria for rank {{ rank }}:
                    </label>
                    <select name="rank_{{ rank }}" id="rank_{{ rank }}" required class="form-select">
                        <option value="">-- Select criteria --</option>
                        {% for criteria in criteria_list %}
                            <option value="{{ criteria.id }}">{{ criteria.name }}</option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    <button type="submit" class="btn btn-success">Submit</button>
</form>
{% endblock %}